<ion-header>
  <ion-toolbar color="header-toolbar">
    <ion-buttons slot="start">
      <ion-button (click)="onCancel()">
        <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Agregar Evento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" style="--padding-bottom: env(safe-area-inset-bottom, 16px);">
  <form (ngSubmit)="onSubmit()" #eventForm="ngForm">
    <!-- Event Name -->
    <ion-item class="form-item">
      <ion-label position="floating">Nombre del evento</ion-label>
      <ion-input type="text" [(ngModel)]="eventName" name="eventName" maxlength="40" required></ion-input>
    </ion-item>

    <!-- Event Description -->
    <ion-item class="form-item">
      <ion-label position="floating">Descripci√≥n</ion-label>
      <ion-textarea [(ngModel)]="eventDescription" name="eventDescription" required></ion-textarea>
    </ion-item>
    <!-- Category And Date -->
    <div class="form-row">
      <!-- Event Date -->
      <ion-item class="form-item">
        <ion-label position="floating">Fecha</ion-label>
        <ion-input type="date" [(ngModel)]="eventDate" name="eventDate" maxlength="100" required></ion-input>
      </ion-item>
      <!-- Category Selection -->
      <ion-item class="form-item">
        <ion-label position="floating">Categoria</ion-label>

        <ion-select [(ngModel)]="selectedCategory" name="category" required>
          <ion-select-option *ngFor="let category of categories" [value]="category.id">
            {{ category.name }}
          </ion-select-option>
        </ion-select>
      </ion-item>
    </div>

    <div class="button-group">
      <ion-button (click)="onCancel()" fill="outline" color="medium">
        <ion-icon name="close" slot="start"></ion-icon>
        Cancelar
      </ion-button>
      <ion-button type="submit" [disabled]="!isFormValid() || isSubmitting" color="success">
        <ion-icon name="add" slot="start"></ion-icon>
        {{ isSubmitting ? 'Agregando...' : 'Agregar' }}
      </ion-button>
    </div>
  </form>
</ion-content>