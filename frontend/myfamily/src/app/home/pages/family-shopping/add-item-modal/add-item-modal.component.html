<ion-header>
  <ion-toolbar color="header-toolbar">
    <ion-buttons slot="start">
      <ion-button (click)="onCancel()">
        <ion-icon name="close" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{ isEdit ? 'Editar Artículo' : 'Agregar Artículo' }}</ion-title>
  </ion-toolbar>
</ion-header>


<ion-content class="ion-padding">
  <form (ngSubmit)="onSubmit()" #itemForm="ngForm">
    <!-- Item Name -->
    <ion-item class="form-item">
      <ion-label position="floating">Nombre del artículo</ion-label>
      <ion-input type="text" [(ngModel)]="name" name="name" required></ion-input>
    </ion-item>

    <!-- Quantity -->
    <ion-item class="form-item">
      <ion-label position="floating">Cantidad</ion-label>
      <ion-input type="number" [(ngModel)]="quantity" name="quantity" min="1" required></ion-input>
    </ion-item>

    <!-- Category Selection -->
    <ion-item class="form-item">
      <ion-select [(ngModel)]="selectedCategoryId" name="category" required>
        <ion-select-option [value]="null">Seleccionar categoría</ion-select-option>
        <ion-select-option *ngFor="let category of categories" [value]="category.id">
          {{ category.name }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Action Buttons -->
    <div class="button-group">
      <ion-button (click)="onCancel()" fill="outline" color="medium">
        <ion-icon name="close" slot="start"></ion-icon>
        Cancelar
      </ion-button>
      <ion-button type="submit" [disabled]="!isFormValid() || isSubmitting" color="success">
        <ion-icon [name]="isEdit ? 'checkmark' : 'add'" slot="start"></ion-icon>
        {{ isSubmitting ? (isEdit ? 'Actualizando...' : 'Agregando...') : (isEdit ? 'Actualizar' : 'Agregar') }}
      </ion-button>
    </div>
  </form>
</ion-content>